(self["webpackChunkaviasels"]=self["webpackChunkaviasels"]||[]).push([[140],{7140:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>oe});var a=l(3673);function r(e,t,l,r,n,i){const s=(0,a.up)("CardReis"),o=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(o,{class:""},{default:(0,a.w5)((()=>[(0,a.Wm)(s)])),_:1})}var n=l(2323);const i=e=>((0,a.dD)("data-v-57ea0d02"),e=e(),(0,a.Cn)(),e),s={class:"row justify-around"},o={class:"q-pa-md fixed-top-left filter-block"},u=i((()=>(0,a._)("span",{class:"text-weight-bold"},"Сортировать",-1))),p=i((()=>(0,a._)("span",{class:"text-weight-bold"},"Фильтровать",-1))),g=i((()=>(0,a._)("span",{class:"text-weight-bold"},"Цена",-1))),m=(0,a.Uk)(" От "),d=(0,a.Uk)(" До "),c=i((()=>(0,a._)("span",{class:"text-weight-bold"},"Авиакомпании",-1))),v={key:0,class:"column items-center justify-center"},w={class:"text-h5 text-right"},h=i((()=>(0,a._)("div",null,"Стоимость для одного взрослого пассажира",-1))),y={key:0,class:"text-h6"},x={class:"text-primary"},_={class:"text-primary"},f={key:1,class:"text-h6"},b={class:"text-primary"},F={class:"text-primary"},D={key:2,class:"row justify-between q-my-sm"},k={class:"text-h6 q-mr-sm"},q={class:"text-primary"},z={class:"row items-center"},M={class:"text-h6 q-ml-sm"},U={class:"text-h6 q-mr-sm"},A={class:"text-primary"},C={key:3,class:"row justify-between q-my-sm"},V={class:"text-h6 q-mr-sm"},W={class:"text-primary"},S={class:"row items-center"},O={class:"text-h6 q-ml-sm"},Z={class:"text-h6 q-mr-sm"},Q={class:"text-primary"},T=i((()=>(0,a._)("hr",{width:"80%",class:"text-center q-my-md"},null,-1))),j={key:0,class:"transfer absolute-center text-red bg-white q-px-xs"},H=(0,a.Uk)(" Выбрать ");function I(e,t,l,r,i,I){const L=(0,a.up)("q-option-group"),P=(0,a.up)("q-input"),G=(0,a.up)("q-img"),R=(0,a.up)("q-icon"),E=(0,a.up)("q-card-section"),K=(0,a.up)("q-separator"),N=(0,a.up)("q-card-actions"),Y=(0,a.up)("q-card"),B=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",o,[(0,a._)("div",null,[u,(0,a.Wm)(L,{options:r.optionSort,type:"radio",modelValue:r.groupSort,"onUpdate:modelValue":[t[0]||(t[0]=e=>r.groupSort=e),r.getCurrentFlight]},null,8,["options","modelValue","onUpdate:modelValue"])]),(0,a._)("div",null,[p,(0,a.Wm)(L,{options:r.optionsFilter,type:"checkbox",modelValue:r.groupFilter,"onUpdate:modelValue":[t[1]||(t[1]=e=>r.groupFilter=e),r.getCurrentFlight]},null,8,["options","modelValue","onUpdate:modelValue"])]),(0,a._)("div",null,[g,(0,a.Wm)(P,{outlined:"",modelValue:r.moneyMin,"onUpdate:modelValue":[t[2]||(t[2]=e=>r.moneyMin=e),r.getCurrentFlight],type:"number",min:"0",max:"149335",dense:"",class:"q-ma-xs"},{before:(0,a.w5)((()=>[m])),_:1},8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(P,{outlined:"",modelValue:r.moneyMax,"onUpdate:modelValue":[t[3]||(t[3]=e=>r.moneyMax=e),r.getCurrentFlight],type:"number",min:"0",max:"149335",dense:"",class:"q-ma-xs"},{before:(0,a.w5)((()=>[d])),_:1},8,["modelValue","onUpdate:modelValue"])]),(0,a._)("div",null,[c,(0,a.Wm)(L,{options:r.optionsAirlines,type:"checkbox",modelValue:r.groupAirlines,"onUpdate:modelValue":[t[4]||(t[4]=e=>r.groupAirlines=e),r.getCurrentFlight]},null,8,["options","modelValue","onUpdate:modelValue"])])]),0!==r.currentFlights.length?((0,a.wg)(),(0,a.iD)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.currentFlights,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"my-card q-ma-lg",key:t},[(0,a.Wm)(Y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(E,{class:"card_header bg-primary text-white row justify-between"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(G,{src:r.getImgUrl(e.flight.carrier.airlineCode),alt:"Пустота",style:{"max-height":"60px"},"no-spinner":"",width:"220px"},null,8,["src"])]),(0,a._)("div",null,[(0,a._)("div",w,[(0,a.Uk)((0,n.zw)(e.flight.price.total.amount)+" ",1),(0,a.Wm)(R,{name:"currency_ruble",size:"22px"})]),h])])),_:2},1024),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.flight.legs,((e,t)=>((0,a.wg)(),(0,a.j4)(E,{class:"bg-white",key:t},{default:(0,a.w5)((()=>{var t,l,i,s,o,u,p,g;return[2==e.segments.length?((0,a.wg)(),(0,a.iD)("div",y,[(0,a.Uk)((0,n.zw)(null===(t=e.segments[0].departureCity)||void 0===t?void 0:t.caption)+", "+(0,n.zw)(null===(l=e.segments[0].departureAirport)||void 0===l?void 0:l.caption)+" ",1),(0,a._)("span",x," ("+(0,n.zw)(null===(i=e.segments[0].departureAirport)||void 0===i?void 0:i.uid)+") ",1),(0,a.Wm)(R,{name:"arrow_right_alt",size:"35px"}),(0,a.Uk)(" "+(0,n.zw)(null===(s=e.segments[1].arrivalCity)||void 0===s?void 0:s.caption)+", "+(0,n.zw)(null===(o=e.segments[1].arrivalAirport)||void 0===o?void 0:o.caption)+" ",1),(0,a._)("span",_,"("+(0,n.zw)(null===(u=e.segments[1].arrivalAirport)||void 0===u?void 0:u.uid)+")",1),(0,a.Wm)(K)])):1==e.segments.length?((0,a.wg)(),(0,a.iD)("div",f,[(0,a.Uk)((0,n.zw)(e.segments[0].departureCity.caption)+", "+(0,n.zw)(e.segments[0].departureAirport.caption)+" ",1),(0,a._)("span",b,"("+(0,n.zw)(null===(p=e.segments[0].departureAirport)||void 0===p?void 0:p.uid)+")",1),(0,a.Wm)(R,{name:"arrow_right_alt",size:"35px"}),(0,a.Uk)(" "+(0,n.zw)(e.segments[0].arrivalCity.caption)+", "+(0,n.zw)(e.segments[0].arrivalAirport.caption)+" ",1),(0,a._)("span",F,"("+(0,n.zw)(null===(g=e.segments[0].arrivalAirport)||void 0===g?void 0:g.uid)+")",1),(0,a.Wm)(K)])):(0,a.kq)("",!0),2==e.segments.length?((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",null,[(0,a._)("span",k,(0,n.zw)(r.getTimeFly(e.segments[0].departureDate)),1),(0,a._)("span",q,(0,n.zw)(r.getDateFly(e.segments[0].departureDate)),1)]),(0,a._)("div",z,[(0,a.Wm)(R,{name:"query_builder",size:"22px"}),(0,a._)("span",M,(0,n.zw)(r.getDuration(e.duration)),1)]),(0,a._)("div",null,[(0,a._)("span",U,(0,n.zw)(r.getTimeFly(e.segments[1].arrivalDate)),1),(0,a._)("span",A,(0,n.zw)(r.getDateFly(e.segments[1].arrivalDate)),1)])])):1==e.segments.length?((0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("div",null,[(0,a._)("span",V,(0,n.zw)(r.getTimeFly(e.segments[0].departureDate)),1),(0,a._)("span",W,(0,n.zw)(r.getDateFly(e.segments[0].departureDate)),1)]),(0,a._)("div",S,[(0,a.Wm)(R,{name:"query_builder",size:"22px"}),(0,a._)("span",O,(0,n.zw)(r.getDuration(e.duration)),1)]),(0,a._)("div",null,[(0,a._)("span",Z,(0,n.zw)(r.getTimeFly(e.segments[0].arrivalDate)),1),(0,a._)("span",Q,(0,n.zw)(r.getDateFly(e.segments[0].arrivalDate)),1)])])):(0,a.kq)("",!0),(0,a._)("div",null,[T,e.segments.length>1?((0,a.wg)(),(0,a.iD)("div",j,(0,n.zw)(e.segments.length-1)+" пересадка ",1)):(0,a.kq)("",!0)]),(0,a._)("div",null,"рейс выполняет: "+(0,n.zw)(e.segments[0].airline.caption),1)]})),_:2},1024)))),128)),(0,a.Wm)(N,{class:"text-white text-uppercase text-h6 row justify-center chose-fligth"},{default:(0,a.w5)((()=>[H])),_:1})])),_:2},1024)])))),128)),(0,a.Wm)(B,{class:"q-ma-lg",label:"показать еще",onClick:r.showMoreFlight},null,8,["onClick"])])):(0,a.kq)("",!0)])}var L=l(1959),P=l(3617);const G={setup(){const e=(0,P.oR)(),t=(0,a.Fl)((()=>e.getters["aviasels/getMinPriceSortAviasels"])),r=(0,L.iH)([]),n=[{label:" - по возврастанию цены",value:"increasePrice"},{label:" - по убыванию цены",value:"descendingPrice"},{label:" - по времени в пути",value:"travelTime"}],i=(0,L.iH)("increasePrice"),s=[{label:" - 1 пересадка",value:"oneTransfer"},{label:" - без пересадок",value:"withoutTransfer"}],o=(0,L.iH)([]),u=(0,L.iH)(0),p=(0,L.iH)(149335),g=[{label:" - LOT Polish Airlines",value:"LO"},{label:" - Аэрофлот - российские авиалинии",value:"SU"}],m=(0,L.iH)([]),d=()=>{r.value=[],0!==t.value({groupSort:i.value,groupFilter:o.value,moneyMin:u.value,moneyMax:p.value,groupAirlines:m.value}).length&&(r.value.push(t.value({groupSort:i.value,groupFilter:o.value,moneyMin:u.value,moneyMax:p.value,groupAirlines:m.value})[0]),r.value.push(t.value({groupSort:i.value,groupFilter:o.value,moneyMin:u.value,moneyMax:p.value,groupAirlines:m.value})[1]))};d();const c=e=>{let t;try{t=l(2715)("./"+e+".png")}catch(a){t=l(4287)}return t},v=e=>{let t=new Date(e),l=t.getHours();l<10&&(l="0"+l);let a=t.getMinutes();return a<10&&(a="0"+a),l+":"+a},w=e=>{let t=new Date(e),l=e=>{const t=["янв.","февр.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."];return t[e]},a=e=>{const t=["воскр.","пон.","вт","ср.","четв","пят","субб"];return t[e]};return t.getDate()+", "+l(t.getMonth())+" "+a(t.getDay())},h=e=>{let t=Math.trunc(e/60);t<10&&(t="0"+t);let l=e%60;return l<10&&(l="0"+l),t+" ч "+l+" мин"},y=()=>{try{r.value.length<t.value({groupSort:i.value,groupFilter:o.value,moneyMin:u.value,moneyMax:p.value,groupAirlines:m.value}).length&&(r.value.push(t.value({groupSort:i.value,groupFilter:o.value,moneyMin:u.value,moneyMax:p.value,groupAirlines:m.value})[r.value.length]),r.value.push(t.value({groupSort:i.value,groupFilter:o.value,moneyMin:u.value,moneyMax:p.value,groupAirlines:m.value})[r.value.length]))}catch(e){console.log(e)}};return{getImgUrl:c,currentFlights:r,getTimeFly:v,getDateFly:w,getDuration:h,showMoreFlight:y,optionSort:n,groupSort:i,optionsFilter:s,groupFilter:o,getCurrentFlight:d,moneyMin:u,moneyMax:p,optionsAirlines:g,groupAirlines:m}}};var R=l(4260),E=l(7011),K=l(7241),N=l(151),Y=l(5589),B=l(4027),J=l(4554),X=l(5869),$=l(9367),ee=l(3410),te=l(7518),le=l.n(te);const ae=(0,R.Z)(G,[["render",I],["__scopeId","data-v-57ea0d02"]]),re=ae;le()(G,"components",{QOptionGroup:E.Z,QInput:K.Z,QCard:N.Z,QCardSection:Y.Z,QImg:B.Z,QIcon:J.Z,QSeparator:X.Z,QCardActions:$.Z,QBtn:ee.Z});const ne=(0,a.aZ)({components:{CardReis:re},name:"IndexPage"});var ie=l(4379);const se=(0,R.Z)(ne,[["render",r]]),oe=se;le()(ne,"components",{QPage:ie.Z})},7762:(e,t,l)=>{e.exports=l.p+"img/AF.fb5af5fc.png"},1883:(e,t,l)=>{e.exports=l.p+"img/LO.bfdbd47e.png"},4287:(e,t,l)=>{e.exports=l.p+"img/LOGO.61e5e16a.png"},9018:(e,t,l)=>{e.exports=l.p+"img/SU.f1eddcc4.png"},2715:(e,t,l)=>{var a={"./AF.png":7762,"./LO.png":1883,"./LOGO.png":4287,"./SU.png":9018};function r(e){var t=n(e);return l(t)}function n(e){if(!l.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id=2715}}]);